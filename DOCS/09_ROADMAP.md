# 09_ROADMAP — Дорожная карта

## История версий (v0.6.x → v0.7.x)
### v0.6.x (база)
- Базовый GUI.
- Ручное управление соединением и ордерами.
- Прямые REST запросы без развитого контроля состояния.

### v0.7.x (текущий слой)
- Единый PriceRouter (WS + HTTP + cache + data-health).
- Встроенный TradeExecutor с PnL и поддержкой TP/SL.
- OrderTracker для polling статусов.
- Логика проверки margin доступа и borrow возможностей.
- Отображение расширенного состояния в GUI.

## Что уже достигнуто
- Стабильное получение цены (fallback WS/HTTP).
- Работающий цикл BUY → SELL с учётом статуса ордера.
- Реальный расчёт PnL и отображение в GUI.
- Базовая защита от «слепоты» данных.

## Что ОБЯЗАТЕЛЬНО сделать в v0.8.0
- Ввести **строгую FSM** уровня стратегии:
  - IDLE → ARMED → POSITION_OPEN → EXIT → COOLDOWN.
- Формализовать все переходы и запреты.
- Централизовать data-health gating:
  - входы разрешены только при валидных данных;
  - выходы разрешены с приоритетом даже в деградации.
- Улучшить обработку PARTIAL/FILLED/CANCEL:
  - жёсткий контроль жизненного цикла ордера;
  - детерминированные таймауты.
- Единая политика ошибок и аварий (data_blind, borrow fail, REST ошибки).

## Что ЗАПРЕЩЕНО делать в v0.8.0
- Любые оптимизации параметров стратегии.
- Любые алгоритмы машинного обучения или анализ рынка.
- Расширение символов/рынков.
- Фичи, не связанные напрямую с механикой исполнения.

**Принцип v0.8.0:** только механика и устойчивость исполнения.
