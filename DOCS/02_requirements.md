# Этап 2. Сбор и согласование требований

## Цели
- Сформировать полное представление о функциональных и нефункциональных требованиях.
- Зафиксировать ограничения и допущения.

## Результаты
- Каталог требований с приоритетами.
- Согласованные пользовательские сценарии.
- Набор критериев приемки.

## Артефакты
- Документ требований.
- User stories / use cases.
- Матрица трассируемости.

## Требования v0.7.2 (реальные данные)
- В `POSITION_OPEN` должны работать два симметричных правила: TP по тикам и SL по тикам.
- Триггеры: `tp_trigger_price = buy_price + take_profit_ticks * tickSize`,
  `sl_trigger_price = buy_price - stop_loss_ticks * tickSize`.
- Приоритет: TP выше SL при одновременном выполнении.
- Один активный SELL-ордер на цикл; при наличии SELL новые действия запрещены.
- Выходной ордер: `exit_order_type` = `LIMIT` или `MARKET`;
  для LIMIT используется `exit_offset_ticks` от mid.
- Логи должны содержать строки `[ALGO] exit_trigger ...`, `[ORDER] SELL placed ...`,
  `[ORDER] SELL filled ...`, `[PNL] realized ...` с причиной `TP`/`SL`.
